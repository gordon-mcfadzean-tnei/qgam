<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visual checks for the output of tuneLearnFast() — check.learnFast • qgam</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Visual checks for the output of tuneLearnFast() — check.learnFast" />

<meta property="og:description" content="Provides some visual checks to verify whether the Brent optimizer used by tuneLearnFast() worked correctly." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qgam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/qgam.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visual checks for the output of tuneLearnFast()</h1>
    
    <div class="hidden name"><code>check.learnFast.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Provides some visual checks to verify whether the Brent optimizer used by <code><a href='tuneLearnFast.html'>tuneLearnFast()</a></code> worked correctly.</p>
    
    </div>

    <pre class="usage"><span class='co'># S3 method for learnFast</span>
<span class='fu'><a href='check.html'>check</a></span>(<span class='no'>obj</span>, <span class='kw'>sel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>the output of a call to <code>tuneLearnFast</code>.</p></td>
    </tr>
    <tr>
      <th>sel</th>
      <td><p>integer vector determining which of the plots will be produced. For instance if <code>sel = c(1, 3)</code> only
the 1st and 3rd plots are showed. No entry of <code>sel</code> can be bigger than one plus the number of quantiles considered
in the original <code><a href='tuneLearnFast.html'>tuneLearnFast()</a></code> call. That is, if we estimated the learning rate for <code>qu = c(0.1, 0.4)</code>,
then <code><a href='https://www.rdocumentation.org/packages/base/topics/Extremes'>max(sel)</a></code> must be &lt;= 3.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>currently not used, here only for compatibility reasons.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>It produces several plots.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The top plot in the first page shows the bracket used to estimate log(sigma) for each quantile.
         The brackets are delimited by the crosses and the red dots are the estimates. If a dot falls very close to one of the crosses, 
         that might indicate problems. The bottom plot shows, for each quantile, the value of parameter <code>err</code> used. Sometimes the algorithm
         needs to increase <code>err</code> above its user-defined value to achieve convergence. Subsequent plots show, for each quantile, the value
         of the loss function corresponding to each value of log(sigma) explored by Brent algorithm.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Fasiolo, M., Goude, Y., Nedellec, R. and Wood, S. N. (2017). Fast calibrated additive quantile regression. 
            Available at <a href='https://arxiv.org/abs/1707.03307'>https://arxiv.org/abs/1707.03307</a>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>qgam</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>525</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>gamSim</span>(<span class='fl'>1</span>, <span class='kw'>n</span><span class='kw'>=</span><span class='fl'>200</span>)</div><div class='output co'>#&gt; Gu &amp; Wahba 4 term additive model</div><div class='input'><span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tuneLearnFast.html'>tuneLearnFast</a></span>(<span class='no'>y</span> ~ <span class='fu'>s</span>(<span class='no'>x0</span>)+<span class='fu'>s</span>(<span class='no'>x1</span>)+<span class='fu'>s</span>(<span class='no'>x2</span>)+<span class='fu'>s</span>(<span class='no'>x3</span>),
                   <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>dat</span>, <span class='kw'>qu</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.4</span>, <span class='fl'>0.5</span>),
                   <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='st'>"tol"</span> <span class='kw'>=</span> <span class='fl'>0.05</span>)) <span class='co'># &lt;- sloppy tolerance to speed-up calibration </span></div><div class='output co'>#&gt; Estimating learning rate. Each dot corresponds to a loss evaluation. 
#&gt; qu = 0.5......done 
#&gt; qu = 0.4.....done </div><div class='input'><span class='fu'><a href='check.html'>check</a></span>(<span class='no'>b</span>)</div><div class='img'><img src='check.learnFast-1.png' alt='' width='700' height='433' /></div><div class='img'><img src='check.learnFast-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='check.html'>check</a></span>(<span class='no'>b</span>, <span class='fl'>3</span>) <span class='co'># Produces only third plot</span></div><div class='img'><img src='check.learnFast-3.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Matteo Fasiolo &lt;matteo.fasiolo@gmail.com&gt;.</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Matteo Fasiolo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

